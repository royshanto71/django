{% extends 'blog/base.html' %}

{% block title %}Home - My Blog{% endblock %}

{% block content %}
    <div class="content-wrapper">
        {% if posts %}
            {% for post in posts %}
                {% if forloop.first %}
                    <article class="post featured-post">
                        {% if post.category %}
                            <span class="category-badge">{{ post.category.name }}</span>
                        {% endif %}
                        <h2><a href="{% url 'blog:post_detail' post.pk %}">{{ post.title }}</a></h2>
                        <div class="post-meta">
                            <span class="author">{{ post.author }}</span>
                            <span class="separator">|</span>
                            <span class="date">{{ post.created_at|date:"F d, Y" }}</span>
                            <span class="separator">|</span>
                            <span class="time">{{ post.created_at|date:"g:i A" }}</span>
                        </div>
                        <div class="post-content">
                            {{ post.content|truncatewords:80 }}
                        </div>
                        <a href="{% url 'blog:post_detail' post.pk %}" class="read-more">Read Full Article <span>→</span></a>
                    </article>
                {% else %}
                    <article class="post">
                        {% if post.category %}
                            <span class="category-badge">{{ post.category.name }}</span>
                        {% endif %}
                        <h2><a href="{% url 'blog:post_detail' post.pk %}">{{ post.title }}</a></h2>
                        <div class="post-meta">
                            <span class="author">{{ post.author }}</span>
                            <span class="separator">|</span>
                            <span class="date">{{ post.created_at|date:"F d, Y" }}</span>
                        </div>
                        <div class="post-content">
                            {{ post.content|truncatewords:40 }}
                        </div>
                        <a href="{% url 'blog:post_detail' post.pk %}" class="read-more">Continue Reading <span>→</span></a>
                    </article>
                {% endif %}
            {% endfor %}
        {% else %}
            <div class="empty-state">
                <p>No articles published yet. Please check back later!</p>
                <a href="/admin/" class="btn">Admin Panel</a>
            </div>
        {% endif %}
    </div>
{% endblock %}
